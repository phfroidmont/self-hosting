---
- hosts: k8s_proxy:k8s_masters:k8s_workers
  roles:
    - role: proxy
      tags: proxy
    - role: docker
      tags: docker
#- hosts: localhost
#  become: yes
#  gather_facts: no
#  roles:
#    - role: harden-linux
#      tags: role-harden-linux
#    - role: githubixx.peervpn
#      tags: role-peervpn
#- hosts: k8s
#  vars:
#    ansible_user: ubuntu
#  gather_facts: no
#  roles:
#    - role: harden-linux
#      tags: role-harden-linux
#- hosts: all
#  become: yes
#  roles:
#    - role: peervpn
#      tags: role-peervpn
#- hosts: k8s_ca
#  become: yes
#  gather_facts: no
#  roles:
#    - role: cfssl
#      tags: role-cfssl
#    - role: kubernetes-ca
#      tags: role-kubernetes-ca
#- hosts: k8s_etcd
#  become: yes
#  gather_facts: no
#  roles:
#    - role: etcd
#      tags: role-etcd
#- hosts: k8s_master
#  gather_facts: no
#  roles:
#    - role: kubernetes-controller
#      tags: role-kubernetes-controller
#- hosts: k8s_worker
#  gather_facts: no
#  roles:
#    - role: githubixx.kubernetes-worker
#      tags: role-kubernetes-worker
#- hosts: k8s
#  gather_facts: no
#  roles:
#    - role: githubixx.flanneld
#      tags: role-kubernetes-flanneld
#    - role: githubixx.docker
#      tags: role-docker
